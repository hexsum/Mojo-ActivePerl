.\" Automatically generated by Pod::Man 2.28 (Pod::Simple 3.29)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "ActiveState::Unix::Pw 3"
.TH ActiveState::Unix::Pw 3 "2005-05-18" "perl v5.22.1" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
ActiveState::Unix::Pw \- Portable manipulation of user accounts
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
.Vb 1
\& use ActiveState::Unix::Pw qw(useradd userdel groupadd groupdel su);
.Ve
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \f(CW\*(C`ActiveState::Unix::Pw\*(C'\fR module provide functions to add and
remove user accounts from the system.  It is a portable interface to
the system utility commands that manipulate the passwd and group
databases.
.PP
All functions provided take key/value pairs as arguments.  The
following special arguments are recognized by all functions:
.IP "_norun" 4
.IX Item "_norun"
Instead of feeding commands to the \fIrun()\fR function (see
ActiveState::Run) the commands to run are returned as a string.
.IP "_nocroak" 4
.IX Item "_nocroak"
Tell the \fIrun()\fR not to ignore errors.  By default it will croak if the
command signals an error.
.PP
The following functions are provided by this module.  None of them are
exported by default:
.ie n .IP "useradd( %opts )" 4
.el .IP "useradd( \f(CW%opts\fR )" 4
.IX Item "useradd( %opts )"
The following options are recognized:
.RS 4
.IP "user" 4
.IX Item "user"
The username to use.  Mandatory.
.IP "comment" 4
.IX Item "comment"
The password comment field.  Usually the full name of the user.
.IP "home" 4
.IX Item "home"
The home directory to use.
.IP "create_home" 4
.IX Item "create_home"
Boolean; if \s-1TRUE\s0 create the home directory and set it up.  If \s-1FALSE\s0
only the password database is updated.
.IP "group" 4
.IX Item "group"
What group or group should this user be part of.  The value can either
be a plain scalar or an array reference if multiple groups are to be
specified.  When multiple groups are specified, then the first group
will be the primary group.  The first group can be specified as
\&\f(CW\*(C`undef\*(C'\fR to let the system select a default primary group.
.RE
.RS 4
.RE
.ie n .IP "userdel( %opts )" 4
.el .IP "userdel( \f(CW%opts\fR )" 4
.IX Item "userdel( %opts )"
The following options are recognized:
.RS 4
.IP "user" 4
.IX Item "user"
The username to delete.  Mandatory.
.IP "remove_home" 4
.IX Item "remove_home"
Boolean; if \s-1TRUE\s0 then the home directory will be deleted as well as
the user information.
.RE
.RS 4
.RE
.ie n .IP "usermod( %opts )" 4
.el .IP "usermod( \f(CW%opts\fR )" 4
.IX Item "usermod( %opts )"
The following options are recognized:
.RS 4
.IP "user" 4
.IX Item "user"
The username to modify.  Mandatory.
.IP "home" 4
.IX Item "home"
The new home directory of the user.
.IP "login" 4
.IX Item "login"
The new login name of the user.
.RE
.RS 4
.RE
.ie n .IP "groupadd( %opts )" 4
.el .IP "groupadd( \f(CW%opts\fR )" 4
.IX Item "groupadd( %opts )"
The following options are recognized:
.RS 4
.IP "group" 4
.IX Item "group"
The group name to add.  Mandatory.
.IP "gid" 4
.IX Item "gid"
A group identifier.  If left unspecified a free one will be
assigned.
.IP "unique" 4
.IX Item "unique"
Boolean; if \s-1TRUE\s0 non-unique gids are allowed.  Does not work everywhere.
.IP "system" 4
.IX Item "system"
Make a system account.  Only available on Linux.
.IP "force" 4
.IX Item "force"
Boolean; this will cause failure if the group already exists.  Only
available on Linux.
.RE
.RS 4
.RE
.ie n .IP "groupdel( %opts )" 4
.el .IP "groupdel( \f(CW%opts\fR )" 4
.IX Item "groupdel( %opts )"
The following extra option is recognized:
.RS 4
.IP "group" 4
.IX Item "group"
The value is the name of the group to delete.  Mandatory.
.RE
.RS 4
.RE
.ie n .IP "su( %opts )" 4
.el .IP "su( \f(CW%opts\fR )" 4
.IX Item "su( %opts )"
The following options are recognized:
.RS 4
.IP "user" 4
.IX Item "user"
The username to su to.  Mandatory.
.IP "command" 4
.IX Item "command"
The command to execute as the specified user.
.IP "login" 4
.IX Item "login"
If true, makes the shell a login shell.
.IP "silent" 4
.IX Item "silent"
If true, suppresses the command echo.
.RE
.RS 4
.RE
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (C) 2003 ActiveState Corp.  All rights reserved.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
ActiveState::Run
.SH "POD ERRORS"
.IX Header "POD ERRORS"
Hey! \fBThe above document had some coding errors, which are explained below:\fR
.IP "Around line 616:" 4
.IX Item "Around line 616:"
You forgot a '=back' before '=head1'
